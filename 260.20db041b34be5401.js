(self.webpackChunkfronted_cafenodejs=self.webpackChunkfronted_cafenodejs||[]).push([[260],{2260:(N,O,d)=>{"use strict";d.r(O),d.d(O,{MaterialModule:()=>Dt});var Z=d(6814),v=d(1896),f=d(9347),i=d(9538),m=d(7871),e=d(5879),s=d(6223),C=d(9862),M=d(553);let g=(()=>{class t{http;url=M.N.apiUrl;constructor(a){this.http=a}add=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.post(this.url+"/category/add",a,{headers:o})};update=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.patch(this.url+"/category/update",a,{headers:o})};getCategory=()=>this.http.get(this.url+"/category/get");delete=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.delete(`${this.url}/category/delete/${a}`,{headers:o})};static \u0275fac=function(o){return new(o||t)(e.LFG(C.eN))};static \u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var u=d(3712),_=d(3814),p=d(2296),h=d(9157),b=d(2032),T=d(1274);function S(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter category name."),e.qZA())}let q=(()=>{class t{dialogData;fb;categoryService;dialogRef;snakbarService;onAddCategory=new e.vpe;onEditCategory=new e.vpe;categoryForm=s.cw;dialogAction="Add";action="Add";responseMessage;constructor(a,o,r,c,l){this.dialogData=a,this.fb=o,this.categoryService=r,this.dialogRef=c,this.snakbarService=l}ngOnInit(){this.categoryForm=this.fb.group({name:[null,[s.kI.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.categoryForm.patchValue(this.dialogData.data))}handelSubmit=()=>{"Edit"===this.dialogAction?this.edit():this.add()};add=()=>{this.categoryService.add({name:this.categoryForm.value.name}).subscribe({next:r=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=r.message,this.snakbarService.openSnackBar(this.responseMessage,"success")},error:r=>{this.dialogRef.close(),this.responseMessage=r.error?.message?r.error?.message:m.t.genericError,this.snakbarService.openSnackBar(this.responseMessage,m.t.error)}})};edit=()=>{this.categoryService.update({id:this.dialogData.data.id,name:this.categoryForm.value.name}).subscribe({next:r=>{this.dialogRef.close(),this.onEditCategory.emit(),this.responseMessage=r.message,this.snakbarService.openSnackBar(this.responseMessage,"success")},error:r=>{this.dialogRef.close(),this.responseMessage=r.error?.message?r.error?.message:m.t.genericError,this.snakbarService.openSnackBar(this.responseMessage,m.t.error)}})};static \u0275fac=function(o){return new(o||t)(e.Y36(f.WI),e.Y36(s.qu),e.Y36(g),e.Y36(f.so),e.Y36(u.o))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-category"]],decls:18,vars:5,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrapper"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","name","","required",""],[4,"ngIf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""]],template:function(o,r){1&o&&(e.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),e._uU(3),e.qZA()()(),e.TgZ(4,"mat-dialog-content",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,S,2,0,"mat-error",9),e.qZA()()()()(),e.TgZ(13,"mat-dialog-actions",10)(14,"button",11),e.NdJ("click",function(){return r.handelSubmit()}),e._uU(15),e.qZA(),e.TgZ(16,"button",12),e._uU(17,"Close"),e.qZA()()),2&o&&(e.xp6(3),e.hij("",r.dialogData.action," Category"),e.xp6(2),e.Q6J("formGroup",r.categoryForm),e.xp6(7),e.Q6J("ngIf",r.categoryForm.controls.name.hasError("required")),e.xp6(2),e.Q6J("disabled",!(r.categoryForm.valid&&r.categoryForm.dirty)),e.xp6(1),e.Oqu(r.action))},dependencies:[Z.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,_.xw,_.yH,p.lW,f.ZT,f.xY,f.H8,h.KE,h.hX,h.TO,b.Nt,T.Ye,T.rD],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.wrapper[_ngcontent-%COMP%]{background-color:#e53935}"]})}return t})();var x=d(9917),y=d(5195),w=d(617),U=d(2596);function I(t,n){1&t&&(e.TgZ(0,"th",13),e._uU(1," Name "),e.qZA())}function J(t,n){if(1&t&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.name)}}function H(t,n){1&t&&(e.TgZ(0,"th",13),e._uU(1," Action "),e.qZA())}function V(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"td",15)(1,"button",16),e.NdJ("click",function(){const c=e.CHM(a).$implicit,l=e.oxw();return e.KtG(l.handelEditAction(c))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()()}}function $(t,n){1&t&&e._UZ(0,"tr",17)}function j(t,n){1&t&&e._UZ(0,"tr",18)}let L=(()=>{class t{categoryServices;ngxService;dialog;snackbarService;router;displayedColumn=["name","edit"];dataSource;responseMessage;constructor(a,o,r,c,l){this.categoryServices=a,this.ngxService=o,this.dialog=r,this.snackbarService=c,this.router=l}ngOnInit(){this.ngxService.start(),this.tableData()}tableData=()=>{this.categoryServices.getCategory().subscribe({next:a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},error:a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responseMessage,m.t.error)}})};applyFilter=a=>{this.dataSource.filter=a.target.value.trim().toLowerCase()};handelAddAction=()=>{const a=new f.vA;a.data={action:"Add"},a.width="650px";const o=this.dialog.open(q,a);this.router.events.subscribe(()=>{o.close()}),o.componentInstance.onAddCategory.subscribe({next:c=>{this.tableData()}})};handelEditAction=a=>{const o=new f.vA;o.data={action:"Edit",data:a},o.width="650px";const r=this.dialog.open(q,o);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditCategory.subscribe({next:l=>{this.tableData()}})};static \u0275fac=function(o){return new(o||t)(e.Y36(g),e.Y36(x.LA),e.Y36(f.uw),e.Y36(u.o),e.Y36(v.F0))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-manage-category"]],decls:27,vars:4,consts:[[2,"display","flex","justify-content","space-between"],["mat-flat-button","","color","primary",3,"click"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z10",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(e.TgZ(0,"mat-card")(1,"div",0)(2,"div")(3,"b")(4,"span"),e._uU(5,"Manage Catrgory"),e.qZA()()(),e.TgZ(6,"div")(7,"button",1),e.NdJ("click",function(){return r.handelAddAction()}),e._uU(8,"Add Category"),e.qZA()()()(),e._UZ(9,"hr"),e.TgZ(10,"mat-card")(11,"mat-form-field")(12,"mat-label"),e._uU(13,"Filter"),e.qZA(),e.TgZ(14,"input",2,3),e.NdJ("keyup",function(l){return r.applyFilter(l)}),e.qZA()()(),e._UZ(16,"hr"),e.TgZ(17,"div",4)(18,"table",5),e.ynx(19,6),e.YNc(20,I,2,0,"th",7),e.YNc(21,J,2,1,"td",8),e.BQk(),e.ynx(22,9),e.YNc(23,H,2,0,"th",7),e.YNc(24,V,4,0,"td",10),e.BQk(),e.YNc(25,$,1,0,"tr",11),e.YNc(26,j,1,0,"tr",12),e.qZA()()),2&o&&(e.xp6(18),e.Q6J("dataSource",r.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",r.displayedColumn)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumn))},dependencies:[p.lW,p.RK,y.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,h.KE,h.hX,w.Hw,b.Nt,U.gM],styles:["mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]})}return t})();var k=d(8254);let D=(()=>{class t{http;url=M.N.apiUrl;constructor(a){this.http=a}add=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.post(this.url+"/product/add",a,{headers:o})};update=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.patch(this.url+"/product/update",a,{headers:o})};getProduct=()=>this.http.get(this.url+"/product/get");updateStatus=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.patch(this.url+"/product/updateStatus",a,{headers:o})};delete=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.delete(`${this.url}/product/delete/${a}`,{headers:o})};getProductByCategory=a=>this.http.get(this.url+"/product/getByCategory/"+a);getById=a=>this.http.get(this.url+"/product/getById/"+a);static \u0275fac=function(o){return new(o||t)(e.LFG(C.eN))};static \u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Y=d(3680),P=d(8525);function G(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter product name."),e.qZA())}function K(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"This field is invalid."),e.qZA())}function X(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter product price."),e.qZA())}function W(t,n){if(1&t&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.name)}}function z(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please select product category."),e.qZA())}function ee(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter product description."),e.qZA())}let F=(()=>{class t{dialogData;fb;productService;dialogRef;categoryService;snackbarService;onAddProduct=new e.vpe;onEditProduct=new e.vpe;productForm=s.cw;dialogAction="Add";action="Add";responaseMessage;categorys=[];constructor(a,o,r,c,l,A){this.dialogData=a,this.fb=o,this.productService=r,this.dialogRef=c,this.categoryService=l,this.snackbarService=A}ngOnInit(){this.productForm=this.fb.group({name:[null,[s.kI.required,s.kI.pattern(m.t.nameRegex)]],categoryId:[null,[s.kI.required]],price:[null,[s.kI.required]],description:[null,[s.kI.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.productForm.patchValue(this.dialogData.data)),this.getCategorys()}getCategorys=()=>{this.categoryService.getCategory().subscribe({next:a=>{this.categorys=a},error:a=>{this.responaseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responaseMessage,m.t.error)}})};handelSubmit=()=>{"Edit"===this.dialogAction?this.edit():this.add()};add=()=>{var a=this.productForm.value;this.productService.add({name:a.name,categoryId:a.categoryId,price:a.price,description:a.description}).subscribe({next:r=>{this.dialogRef.close(),this.onAddProduct.emit(),this.responaseMessage=r.message,this.snackbarService.openSnackBar(this.responaseMessage,"success")},error:r=>{this.responaseMessage=r.error?.message?r.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responaseMessage,m.t.error)}})};edit=()=>{var a=this.productForm.value;this.productService.update({id:this.dialogData.data.id,name:a.name,categoryId:a.categoryId,price:a.price,description:a.description}).subscribe({next:r=>{this.dialogRef.close(),this.onEditProduct.emit(),this.responaseMessage=r.message,this.snackbarService.openSnackBar(this.responaseMessage,"success")},error:r=>{this.responaseMessage=r.error?.message?r.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responaseMessage,m.t.error)}})};static \u0275fac=function(o){return new(o||t)(e.Y36(f.WI),e.Y36(s.qu),e.Y36(D),e.Y36(f.so),e.Y36(g),e.Y36(u.o))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-product"]],decls:37,vars:10,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrapper"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","name","","required",""],[4,"ngIf"],["matInput","","formControlName","price","price","","required",""],["formControlName","categoryId","categoryId","","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description","description","","required",""],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""],[3,"value"]],template:function(o,r){1&o&&(e.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),e._uU(3),e.qZA()()(),e.TgZ(4,"mat-dialog-content",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,G,2,0,"mat-error",9),e.YNc(13,K,2,0,"mat-error",9),e.qZA()(),e.TgZ(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Price"),e.qZA(),e._UZ(18,"input",10),e.YNc(19,X,2,0,"mat-error",9),e.qZA(),e.TgZ(20,"mat-form-field",7)(21,"mat-label"),e._uU(22,"Category"),e.qZA(),e.TgZ(23,"mat-select",11),e.YNc(24,W,2,2,"mat-option",12),e.qZA(),e.YNc(25,z,2,0,"mat-error",9),e.qZA()(),e.TgZ(26,"div",6)(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Description"),e.qZA(),e._UZ(30,"input",13),e.YNc(31,ee,2,0,"mat-error",9),e.qZA()()()()(),e.TgZ(32,"mat-dialog-actions",14)(33,"button",15),e.NdJ("click",function(){return r.handelSubmit()}),e._uU(34),e.qZA(),e.TgZ(35,"button",16),e._uU(36,"Close"),e.qZA()()),2&o&&(e.xp6(3),e.hij("",r.dialogData.action," Product"),e.xp6(2),e.Q6J("formGroup",r.productForm),e.xp6(7),e.Q6J("ngIf",r.productForm.controls.name.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.productForm.controls.name.hasError("pattern")),e.xp6(6),e.Q6J("ngIf",r.productForm.controls.price.hasError("required")),e.xp6(5),e.Q6J("ngForOf",r.categorys),e.xp6(1),e.Q6J("ngIf",r.productForm.controls.categoryId.hasError("required")),e.xp6(6),e.Q6J("ngIf",r.productForm.controls.description.hasError("required")),e.xp6(2),e.Q6J("disabled",!(r.productForm.valid&&r.productForm.dirty)),e.xp6(1),e.Oqu(r.action))},dependencies:[Z.sg,Z.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,_.xw,_.yH,Y.ey,p.lW,f.ZT,f.xY,f.H8,h.KE,h.hX,h.TO,b.Nt,P.gD,T.Ye,T.rD],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.wrapper[_ngcontent-%COMP%]{background-color:#e53935}"]})}return t})();var B=d(9463),E=d(2599);function te(t,n){1&t&&(e.TgZ(0,"th",16),e._uU(1," Name "),e.qZA())}function ae(t,n){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.name)}}function oe(t,n){1&t&&(e.TgZ(0,"th",16),e._uU(1," Category "),e.qZA())}function re(t,n){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.categoryName)}}function ne(t,n){1&t&&(e.TgZ(0,"th",16),e._uU(1," Description "),e.qZA())}function ie(t,n){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.description)}}function se(t,n){1&t&&(e.TgZ(0,"th",16),e._uU(1," Price "),e.qZA())}function ce(t,n){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.price)}}function le(t,n){1&t&&(e.TgZ(0,"th",16),e._uU(1," Action "),e.qZA())}function me(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"td",18)(1,"button",19),e.NdJ("click",function(){const c=e.CHM(a).$implicit,l=e.oxw();return e.KtG(l.handelEditAction(c))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",20),e.NdJ("click",function(){const c=e.CHM(a).$implicit,l=e.oxw();return e.KtG(l.handelDeleteAction(c))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()(),e.TgZ(7,"mat-slide-toggle",21),e.NdJ("change",function(r){const l=e.CHM(a).$implicit,A=e.oxw();return e.KtG(A.onChange(r.checked,l.id))}),e.qZA()()}if(2&t){const a=n.$implicit;e.xp6(7),e.Q6J("checked",a.status)}}function de(t,n){1&t&&e._UZ(0,"tr",22)}function ue(t,n){1&t&&e._UZ(0,"tr",23)}let pe=(()=>{class t{productService;ngxService;dialog;snackbarService;router;displayedColumns=["name","categoryName","description","price","edit"];dataSource;responseMessage;constructor(a,o,r,c,l){this.productService=a,this.ngxService=o,this.dialog=r,this.snackbarService=c,this.router=l}ngOnInit(){this.ngxService.start(),this.tableData()}tableData=()=>{this.productService.getProduct().subscribe({next:a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},error:a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responseMessage,m.t.error)}})};applyFilter=a=>{this.dataSource.filter=a.target.value.trim().toLowerCase()};handelAddAction(){const a=new f.vA;a.data={action:"Add"},a.width="650px";const o=this.dialog.open(F,a);this.router.events.subscribe(()=>{o.close()}),o.componentInstance.onAddProduct.subscribe({next:c=>{this.tableData()}})}handelEditAction=a=>{const o=new f.vA;o.data={action:"Edit",data:a},o.width="650px";const r=this.dialog.open(F,o);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditProduct.subscribe({next:l=>{this.tableData()}})};handelDeleteAction=a=>{const o=new f.vA;o.data={message:"delete "+a.name+" product"};const r=this.dialog.open(B.S,o);r.componentInstance.onEmitStatusChange.subscribe({next:l=>{this.ngxService.start(),this.deleteProduct(a.id),r.close()}})};deleteProduct=a=>{this.productService.delete(a).subscribe({next:o=>{this.ngxService.stop(),this.tableData(),this.responseMessage=o?.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},error:o=>{this.ngxService.stop(),this.responseMessage=o.error?.message?o.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responseMessage,m.t.error)}})};onChange=(a,o)=>{var r={status:a.toString(),id:o};this.productService.updateStatus(r).subscribe({next:c=>{this.ngxService.stop(),this.responseMessage=c?.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},error:c=>{this.ngxService.stop(),this.responseMessage=c.error?.message?c.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responseMessage,m.t.error)}})};static \u0275fac=function(o){return new(o||t)(e.Y36(D),e.Y36(x.LA),e.Y36(f.uw),e.Y36(u.o),e.Y36(v.F0))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-management-product"]],decls:36,vars:4,consts:[[2,"display","flex","justify-content","space-between"],["mat-flat-button","","color","primary",3,"click"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z10",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["color","primary","matTooltip","Activate or Deactivate Product",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(e.TgZ(0,"mat-card")(1,"div",0)(2,"div")(3,"b")(4,"span"),e._uU(5,"Manage Product"),e.qZA()()(),e.TgZ(6,"div")(7,"button",1),e.NdJ("click",function(){return r.handelAddAction()}),e._uU(8,"Add Product"),e.qZA()()()(),e._UZ(9,"hr"),e.TgZ(10,"mat-card")(11,"mat-form-field")(12,"mat-label"),e._uU(13,"Filter"),e.qZA(),e.TgZ(14,"input",2,3),e.NdJ("keyup",function(l){return r.applyFilter(l)}),e.qZA()()(),e._UZ(16,"hr"),e.TgZ(17,"div",4)(18,"table",5),e.ynx(19,6),e.YNc(20,te,2,0,"th",7),e.YNc(21,ae,2,1,"td",8),e.BQk(),e.ynx(22,9),e.YNc(23,oe,2,0,"th",7),e.YNc(24,re,2,1,"td",8),e.BQk(),e.ynx(25,10),e.YNc(26,ne,2,0,"th",7),e.YNc(27,ie,2,1,"td",8),e.BQk(),e.ynx(28,11),e.YNc(29,se,2,0,"th",7),e.YNc(30,ce,2,1,"td",8),e.BQk(),e.ynx(31,12),e.YNc(32,le,2,0,"th",7),e.YNc(33,me,8,1,"td",13),e.BQk(),e.YNc(34,de,1,0,"tr",14),e.YNc(35,ue,1,0,"tr",15),e.qZA()()),2&o&&(e.xp6(18),e.Q6J("dataSource",r.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[p.lW,p.RK,y.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,h.KE,h.hX,w.Hw,b.Nt,E.Rr,U.gM],styles:["mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]})}return t})();var R=d(217);let Q=(()=>{class t{http;url=M.N.apiUrl;constructor(a){this.http=a}generateReport=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.post(this.url+"/bill/generateReport/",a,{headers:o})};getPDF=a=>(new C.WM({"Content-Type":"application/json"}),this.http.post(this.url+"/bill/getPdf",a,{responseType:"blob"}));getBills=()=>this.http.get(this.url+"/bill/getBills/");delete=a=>{const o=new C.WM({"Content-Type":"application/json"});return this.http.delete(`${this.url}"/bill/delete/"${a},`,{headers:o})};static \u0275fac=function(o){return new(o||t)(e.LFG(C.eN))};static \u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ge(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter your name."),e.qZA())}function he(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"This field is invalid."),e.qZA())}function fe(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter your email."),e.qZA())}function _e(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"This field is invalid."),e.qZA())}function Ce(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter your contact number."),e.qZA())}function ye(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"This field is invalid."),e.qZA())}function Ze(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please select your payment method."),e.qZA())}function ve(t,n){if(1&t&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.Q6J("value",a),e.xp6(1),e.Oqu(a.name)}}function be(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please select your category."),e.qZA())}function Te(t,n){if(1&t&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.Q6J("value",a),e.xp6(1),e.Oqu(a.name)}}function xe(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please select your category."),e.qZA())}function Ae(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter your price."),e.qZA())}function Me(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter your quantity."),e.qZA())}function Se(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter your total."),e.qZA())}function qe(t,n){1&t&&(e.TgZ(0,"th",36),e._uU(1,"Name"),e.qZA())}function we(t,n){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.name)}}function Ue(t,n){1&t&&(e.TgZ(0,"th",36),e._uU(1,"Category"),e.qZA())}function ke(t,n){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.category)}}function Oe(t,n){1&t&&(e.TgZ(0,"th",36),e._uU(1,"Price"),e.qZA())}function Ne(t,n){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.price)}}function De(t,n){1&t&&(e.TgZ(0,"th",36),e._uU(1,"Quantity"),e.qZA())}function Ye(t,n){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.quantity)}}function Pe(t,n){1&t&&(e.TgZ(0,"th",36),e._uU(1,"Total"),e.qZA())}function Fe(t,n){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.total)}}function Be(t,n){1&t&&(e.TgZ(0,"th",36),e._uU(1,"Delete"),e.qZA())}function Ee(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"td",38)(1,"button",39),e.NdJ("click",function(){const r=e.CHM(a),c=r.index,l=r.$implicit,A=e.oxw();return e.KtG(A.handelDeleteAction(c,l))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()()}}function Re(t,n){1&t&&e._UZ(0,"tr",40)}function Qe(t,n){1&t&&e._UZ(0,"tr",41)}let Ie=(()=>{class t{fb;categoryService;productService;snackbarService;billService;ngxService;displayedColumns=["name","category","price","quantity","total","edit"];dataSource=[];manageOrderForm=s.cw;categorys=[];products=[];price;totalAmount=0;resmponseMessage;constructor(a,o,r,c,l,A){this.fb=a,this.categoryService=o,this.productService=r,this.snackbarService=c,this.billService=l,this.ngxService=A}ngOnInit(){this.ngxService.start(),this.manageOrderForm=this.fb.group({name:[null,[s.kI.required,s.kI.pattern(m.t.nameRegex)]],email:[null,[s.kI.required,s.kI.pattern(m.t.emailRegex)]],contactNumber:[null,[s.kI.required,s.kI.pattern(m.t.contactNumberRegex)]],paymentMethod:[null,[s.kI.required]],product:[null,[s.kI.required]],category:[null,[s.kI.required]],quantity:[null,[s.kI.required]],price:[null,[s.kI.required]],total:[0,[s.kI.required]]}),this.getCategorys()}getCategorys=()=>{this.categoryService.getCategory().subscribe({next:a=>{this.ngxService.stop(),this.categorys=a},error:a=>{this.ngxService.stop(),this.resmponseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.resmponseMessage,m.t.error)}})};getProductsByCategory=a=>{this.productService.getProductByCategory(a.id).subscribe({next:o=>{console.log(o),this.products=o,this.manageOrderForm.controls.price.setValue(""),this.manageOrderForm.controls.quantity.setValue(""),this.manageOrderForm.controls.total.setValue(0)},error:o=>{this.ngxService.stop(),this.resmponseMessage=o.error?.message?o.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.resmponseMessage,m.t.error)}})};getProductDetails=a=>{this.productService.getById(a.id).subscribe({next:o=>{this.price=o.price,this.manageOrderForm.controls.price.setValue(o.price),this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(1*this.price)},error:o=>{this.ngxService.stop(),this.resmponseMessage=o.error?.message?o.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.resmponseMessage,m.t.error)}})};setQuantity=a=>{var o=this.manageOrderForm.controls.quantity.value;o>0?this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value):""!=o&&(this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value))};validateProductAdd=()=>0===this.manageOrderForm.controls.total.value||null===this.manageOrderForm.controls.total.value||this.manageOrderForm.controls.quantity.value<=0;validateSubmit=()=>0===this.totalAmount||null===this.manageOrderForm.controls.name.value||null===this.manageOrderForm.controls.email.value||null===this.manageOrderForm.controls.contactNumber.value||null===this.manageOrderForm.controls.paymentMethod.value||!this.manageOrderForm.controls.contactNumber.valid||!this.manageOrderForm.controls.email.valid;add(){var a=this.manageOrderForm.value;void 0===this.dataSource.find(r=>r.id==a.product.id)?(this.totalAmount=this.totalAmount+a.total,this.dataSource.push({id:a.product.id,name:a.product.name,category:a.category.name,quantity:a.quantity,price:a.price,total:a.total}),this.dataSource=[...this.dataSource],this.snackbarService.openSnackBar(m.t.productAdded,"success")):this.snackbarService.openSnackBar(m.t.productExistError,m.t.error)}handelDeleteAction=(a,o)=>{this.totalAmount=this.totalAmount-o.total,this.dataSource.splice(a,1),this.dataSource=[...this.dataSource]};submitAction(){this.ngxService.start();var a=this.manageOrderForm.value,o={name:a.name,email:a.email,contactNumber:a.contactNumber,paymentMethod:a.paymentMethod,totalAmount:this.totalAmount,productDetails:JSON.stringify(this.dataSource)};this.billService.generateReport(o).subscribe({next:r=>{this.ngxService.stop(),this.downloadFile(r?.uuid),this.manageOrderForm.reset(),this.dataSource=[],this.totalAmount=0},error:r=>{this.ngxService.stop(),this.resmponseMessage=r.error?.message?r.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.resmponseMessage,m.t.error)}})}downloadFile=a=>{this.billService.getPDF({uuid:a}).subscribe({next:r=>{(0,R.saveAs)(r,a+".pdf"),this.ngxService.stop()}})};static \u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(g),e.Y36(D),e.Y36(u.o),e.Y36(Q),e.Y36(x.LA))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-manage-order"]],decls:110,vars:23,consts:[[2,"display","flex","justify-content","space-between"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","required","","name",""],[4,"ngIf"],["matInput","","formControlName","email","required","","email",""],["matInput","","formControlName","contactNumber","required","","contactNumber",""],["matInput","","formControlName","paymentMethod","required","","paymentMethod",""],["value","Cash"],["value","Credit Card"],["value","Debit Card"],["formControlName","category","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","product","required","",3,"selectionChange"],["matInput","","formControlName","price","required","","price","","readonly",""],["matInput","","formControlName","quantity","required","","quantity","",3,"keyup"],["input",""],["matInput","","formControlName","total","required","","total","","readonly",""],["mat-flat-button","",1,"flot-right"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(e.TgZ(0,"mat-card")(1,"div",0)(2,"div")(3,"b")(4,"span"),e._uU(5,"Manage Product"),e.qZA()()(),e.TgZ(6,"div")(7,"button",1),e.NdJ("click",function(){return r.submitAction()}),e._uU(8,"Submit & Get Bill"),e.qZA()()()(),e._UZ(9,"hr"),e.TgZ(10,"mat-card")(11,"b")(12,"span"),e._uU(13,"Customer Details:"),e.qZA()(),e.TgZ(14,"form",2)(15,"div",3)(16,"div",4)(17,"mat-form-field",5)(18,"mat-label"),e._uU(19,"Name"),e.qZA(),e._UZ(20,"input",6),e.YNc(21,ge,2,0,"mat-error",7),e.YNc(22,he,2,0,"mat-error",7),e.qZA(),e.TgZ(23,"mat-form-field",5)(24,"mat-label"),e._uU(25,"Email"),e.qZA(),e._UZ(26,"input",8),e.YNc(27,fe,2,0,"mat-error",7),e.YNc(28,_e,2,0,"mat-error",7),e.qZA(),e.TgZ(29,"mat-form-field",5)(30,"mat-label"),e._uU(31,"Contact Number"),e.qZA(),e._UZ(32,"input",9),e.YNc(33,Ce,2,0,"mat-error",7),e.YNc(34,ye,2,0,"mat-error",7),e.qZA(),e.TgZ(35,"mat-form-field",5)(36,"mat-label"),e._uU(37,"Payment Method"),e.qZA(),e.TgZ(38,"mat-select",10)(39,"mat-option",11),e._uU(40,"Cash"),e.qZA(),e.TgZ(41,"mat-option",12),e._uU(42,"Credit Card"),e.qZA(),e.TgZ(43,"mat-option",13),e._uU(44,"Debit Card"),e.qZA()(),e.YNc(45,Ze,2,0,"mat-error",7),e.qZA()()()()(),e._UZ(46,"hr"),e.TgZ(47,"mat-card")(48,"b")(49,"span"),e._uU(50,"Select Product:"),e.qZA()(),e.TgZ(51,"form",2)(52,"div",3)(53,"div",4)(54,"mat-form-field",5)(55,"mat-label"),e._uU(56,"Category"),e.qZA(),e.TgZ(57,"mat-select",14),e.NdJ("selectionChange",function(l){return r.getProductsByCategory(l.value)}),e.YNc(58,ve,2,2,"mat-option",15),e.qZA(),e.YNc(59,be,2,0,"mat-error",7),e.qZA(),e.TgZ(60,"mat-form-field",5)(61,"mat-label"),e._uU(62,"Product"),e.qZA(),e.TgZ(63,"mat-select",16),e.NdJ("selectionChange",function(l){return r.getProductDetails(l.value)}),e.YNc(64,Te,2,2,"mat-option",15),e.qZA(),e.YNc(65,xe,2,0,"mat-error",7),e.qZA(),e.TgZ(66,"mat-form-field",5)(67,"mat-label"),e._uU(68,"Price"),e.qZA(),e._UZ(69,"input",17),e.YNc(70,Ae,2,0,"mat-error",7),e.qZA(),e.TgZ(71,"mat-form-field",5)(72,"mat-label"),e._uU(73,"Quantity"),e.qZA(),e.TgZ(74,"input",18,19),e.NdJ("keyup",function(l){return r.setQuantity(l)}),e.qZA(),e.YNc(76,Me,2,0,"mat-error",7),e.qZA(),e.TgZ(77,"mat-form-field",5)(78,"mat-label"),e._uU(79,"Total"),e.qZA(),e._UZ(80,"input",20),e.YNc(81,Se,2,0,"mat-error",7),e.qZA()()()(),e.TgZ(82,"div",0)(83,"button",1),e.NdJ("click",function(){return r.add()}),e._uU(84,"Add"),e.qZA(),e.TgZ(85,"button",21),e._uU(86),e.qZA()()(),e._UZ(87,"hr"),e.TgZ(88,"div",22)(89,"table",23),e.ynx(90,24),e.YNc(91,qe,2,0,"th",25),e.YNc(92,we,2,1,"td",26),e.BQk(),e.ynx(93,27),e.YNc(94,Ue,2,0,"th",25),e.YNc(95,ke,2,1,"td",26),e.BQk(),e.ynx(96,28),e.YNc(97,Oe,2,0,"th",25),e.YNc(98,Ne,2,1,"td",26),e.BQk(),e.ynx(99,29),e.YNc(100,De,2,0,"th",25),e.YNc(101,Ye,2,1,"td",26),e.BQk(),e.ynx(102,30),e.YNc(103,Pe,2,0,"th",25),e.YNc(104,Fe,2,1,"td",26),e.BQk(),e.ynx(105,31),e.YNc(106,Be,2,0,"th",25),e.YNc(107,Ee,4,0,"td",32),e.BQk(),e.YNc(108,Re,1,0,"tr",33),e.YNc(109,Qe,1,0,"tr",34),e.qZA()()),2&o&&(e.xp6(7),e.Q6J("disabled",r.validateSubmit()),e.xp6(7),e.Q6J("formGroup",r.manageOrderForm),e.xp6(7),e.Q6J("ngIf",r.manageOrderForm.controls.name.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.manageOrderForm.controls.name.hasError("pattern")),e.xp6(5),e.Q6J("ngIf",r.manageOrderForm.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.manageOrderForm.controls.email.hasError("pattern")),e.xp6(5),e.Q6J("ngIf",r.manageOrderForm.controls.contactNumber.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.manageOrderForm.controls.contactNumber.hasError("pattern")),e.xp6(11),e.Q6J("ngIf",r.manageOrderForm.controls.paymentMethod.hasError("required")),e.xp6(6),e.Q6J("formGroup",r.manageOrderForm),e.xp6(7),e.Q6J("ngForOf",r.categorys),e.xp6(1),e.Q6J("ngIf",r.manageOrderForm.controls.category.hasError("required")),e.xp6(5),e.Q6J("ngForOf",r.products),e.xp6(1),e.Q6J("ngIf",r.manageOrderForm.controls.product.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.manageOrderForm.controls.price.hasError("required")),e.xp6(6),e.Q6J("ngIf",r.manageOrderForm.controls.quantity.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.manageOrderForm.controls.total.hasError("required")),e.xp6(2),e.Q6J("disabled",r.validateProductAdd()),e.xp6(3),e.hij("Total Amount: ",r.totalAmount,""),e.xp6(3),e.Q6J("dataSource",r.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[Z.sg,Z.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.on,s.sg,s.u,_.xw,_.yH,Y.ey,p.lW,p.RK,y.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,h.KE,h.hX,h.TO,w.Hw,b.Nt,P.gD,U.gM],styles:["mat-card[_ngcontent-%COMP%]{padding:20px}mat-form-field[_ngcontent-%COMP%]{margin:5px}table[_ngcontent-%COMP%]{width:100%}"]})}return t})();function Je(t,n){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Name"),e.qZA())}function He(t,n){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.name)}}function Ve(t,n){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Category"),e.qZA())}function $e(t,n){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.category)}}function je(t,n){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Price"),e.qZA())}function Le(t,n){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.price)}}function Ge(t,n){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Quantity"),e.qZA())}function Ke(t,n){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.quantity)}}function Xe(t,n){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Total"),e.qZA())}function We(t,n){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.total)}}function ze(t,n){1&t&&e._UZ(0,"tr",20)}function et(t,n){1&t&&e._UZ(0,"tr",21)}let tt=(()=>{class t{dialogData;dialogRef;displayedColumns=["name","category","price","quantity","total"];dataSource;data;constructor(a,o){this.dialogData=a,this.dialogRef=o}ngOnInit(){this.data=this.dialogData.data,this.dataSource=JSON.parse(this.dialogData.data.productDetails)}static \u0275fac=function(o){return new(o||t)(e.Y36(f.WI),e.Y36(f.so))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-view-bill-product"]],decls:48,vars:8,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],["id","customers"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(e.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),e._uU(3,"View Bill"),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"button",4)(6,"mat-icon"),e._uU(7,"cancel"),e.qZA()()()(),e.TgZ(8,"mat-dialog-content",5)(9,"table",6)(10,"tr")(11,"td")(12,"b"),e._uU(13,"Name: "),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"b"),e._uU(17,"Email: "),e.qZA(),e._uU(18),e.qZA()(),e.TgZ(19,"tr")(20,"td")(21,"b"),e._uU(22,"Contact Number: "),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td")(25,"b"),e._uU(26,"Payment Method: "),e.qZA(),e._uU(27),e.qZA()()(),e.TgZ(28,"div",7),e._UZ(29,"br"),e.TgZ(30,"table",8),e.ynx(31,9),e.YNc(32,Je,2,0,"th",10),e.YNc(33,He,2,1,"td",11),e.BQk(),e.ynx(34,12),e.YNc(35,Ve,2,0,"th",10),e.YNc(36,$e,2,1,"td",11),e.BQk(),e.ynx(37,13),e.YNc(38,je,2,0,"th",10),e.YNc(39,Le,2,1,"td",11),e.BQk(),e.ynx(40,14),e.YNc(41,Ge,2,0,"th",10),e.YNc(42,Ke,2,1,"td",11),e.BQk(),e.ynx(43,15),e.YNc(44,Xe,2,0,"th",10),e.YNc(45,We,2,1,"td",11),e.BQk(),e.YNc(46,ze,1,0,"tr",16),e.YNc(47,et,1,0,"tr",17),e.qZA()()()),2&o&&(e.xp6(14),e.Oqu(r.data.name),e.xp6(4),e.Oqu(r.data.email),e.xp6(5),e.Oqu(r.data.contactNumber),e.xp6(4),e.Oqu(r.data.paymentMethod),e.xp6(3),e.Q6J("dataSource",r.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[_.xw,p.RK,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,f.ZT,f.xY,w.Hw,T.Ye,T.rD],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}#customers[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#04aa6d;color:#fff}"]})}return t})();function at(t,n){1&t&&(e.TgZ(0,"th",17),e._uU(1,"Name"),e.qZA())}function ot(t,n){if(1&t&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.name)}}function rt(t,n){1&t&&(e.TgZ(0,"th",17),e._uU(1,"Email"),e.qZA())}function nt(t,n){if(1&t&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.email)}}function it(t,n){1&t&&(e.TgZ(0,"th",17),e._uU(1,"Contact Number"),e.qZA())}function st(t,n){if(1&t&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.contactNumber)}}function ct(t,n){1&t&&(e.TgZ(0,"th",17),e._uU(1,"Payment Method"),e.qZA())}function lt(t,n){if(1&t&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.paymentMethod)}}function mt(t,n){1&t&&(e.TgZ(0,"th",17),e._uU(1,"Total"),e.qZA())}function dt(t,n){if(1&t&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.total)}}function ut(t,n){1&t&&(e.TgZ(0,"th",17),e._uU(1,"Action"),e.qZA())}function pt(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"td",19)(1,"button",20),e.NdJ("click",function(){const c=e.CHM(a).$implicit,l=e.oxw();return e.KtG(l.haldelViewAction(c))}),e.TgZ(2,"mat-icon"),e._uU(3,"visibility"),e.qZA()(),e.TgZ(4,"button",21),e.NdJ("click",function(){const c=e.CHM(a).$implicit,l=e.oxw();return e.KtG(l.downloadReportAction(c))}),e.TgZ(5,"mat-icon"),e._uU(6,"summarized"),e.qZA()(),e.TgZ(7,"button",22),e.NdJ("click",function(){const c=e.CHM(a).$implicit,l=e.oxw();return e.KtG(l.handelDeleteAction(c))}),e.TgZ(8,"mat-icon"),e._uU(9,"delete"),e.qZA()()()}}function gt(t,n){1&t&&e._UZ(0,"tr",23)}function ht(t,n){1&t&&e._UZ(0,"tr",24)}let ft=(()=>{class t{billService;ngxService;dialog;snackbarService;router;displayedColumn=["name","email","contactNumber","paymentMethod","total","view"];dataSource;responsiveMessage;constructor(a,o,r,c,l){this.billService=a,this.ngxService=o,this.dialog=r,this.snackbarService=c,this.router=l}ngOnInit(){this.ngxService.start(),this.tableData()}tableData=()=>{this.billService.getBills().subscribe({next:a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},error:a=>{this.ngxService.stop(),this.responsiveMessage=a.error?.messgae?a.error?.messgae:m.t.genericError,this.snackbarService.openSnackBar(this.responsiveMessage,m.t.error)}})};applyFilter=a=>{this.dataSource.filter=a.target.value.trim().toLowerCase()};haldelViewAction=a=>{const o=new f.vA;o.data={data:a},o.width="100%";const r=this.dialog.open(tt,o);this.router.events.subscribe(()=>{r.close()})};downloadReportAction=a=>{this.billService.getPDF({name:a.name,email:a.email,uuid:a.uuid,contactNumber:a.contactNumber,paymentMethod:a.paymentMethod,totalAmount:a.total,productDetails:a.productDetails}).subscribe({next:r=>{(0,R.saveAs)(r,a.uuid+".pdf")}})};handelDeleteAction=a=>{const o=new f.vA;o.data={message:"delete "+a.name+" bill"};const r=this.dialog.open(B.S,o);r.componentInstance.onEmitStatusChange.subscribe({next:l=>{this.ngxService.start(),this.deleteProduct(a.id),r.close()}})};deleteProduct=a=>{this.billService.delete(a).subscribe({next:o=>{console.log("delete",o),this.ngxService.stop(),this.tableData(),this.responsiveMessage=o?.message,this.snackbarService.openSnackBar(this.responsiveMessage,"success")},error:o=>{this.ngxService.stop(),this.responsiveMessage=o.error?.messgae?o.error?.messgae:m.t.genericError,this.snackbarService.openSnackBar(this.responsiveMessage,m.t.error)}})};static \u0275fac=function(o){return new(o||t)(e.Y36(Q),e.Y36(x.LA),e.Y36(f.uw),e.Y36(u.o),e.Y36(v.F0))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-view-bill"]],decls:36,vars:4,consts:[[2,"display","flex","justify-content","space-between"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","paymentMethod"],["matColumnDef","total"],["matColumnDef","view"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","View",3,"click"],["mat-icon-button","","color","primary","matTooltip","Download Bill",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(e.TgZ(0,"mat-card")(1,"div",0)(2,"div")(3,"b")(4,"span"),e._uU(5,"View Bill"),e.qZA()()()()(),e._UZ(6,"hr"),e.TgZ(7,"mat-card")(8,"mat-form-field",1)(9,"mat-label"),e._uU(10,"Filter"),e.qZA(),e.TgZ(11,"input",2,3),e.NdJ("keyup",function(l){return r.applyFilter(l)}),e.qZA()()(),e._UZ(13,"hr"),e.TgZ(14,"div",4)(15,"table",5),e.ynx(16,6),e.YNc(17,at,2,0,"th",7),e.YNc(18,ot,2,1,"td",8),e.BQk(),e.ynx(19,9),e.YNc(20,rt,2,0,"th",7),e.YNc(21,nt,2,1,"td",8),e.BQk(),e.ynx(22,10),e.YNc(23,it,2,0,"th",7),e.YNc(24,st,2,1,"td",8),e.BQk(),e.ynx(25,11),e.YNc(26,ct,2,0,"th",7),e.YNc(27,lt,2,1,"td",8),e.BQk(),e.ynx(28,12),e.YNc(29,mt,2,0,"th",7),e.YNc(30,dt,2,1,"td",8),e.BQk(),e.ynx(31,13),e.YNc(32,ut,2,0,"th",7),e.YNc(33,pt,10,0,"td",14),e.BQk(),e.YNc(34,gt,1,0,"tr",15),e.YNc(35,ht,1,0,"tr",16),e.qZA()()),2&o&&(e.xp6(15),e.Q6J("dataSource",r.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",r.displayedColumn)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumn))},dependencies:[p.RK,y.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,h.KE,h.hX,w.Hw,b.Nt,U.gM],styles:["mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]})}return t})();var _t=d(3076);function Ct(t,n){1&t&&(e.TgZ(0,"th",13),e._uU(1," Name "),e.qZA())}function yt(t,n){if(1&t&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.name)}}function Zt(t,n){1&t&&(e.TgZ(0,"th",13),e._uU(1," Email "),e.qZA())}function vt(t,n){if(1&t&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.email)}}function bt(t,n){1&t&&(e.TgZ(0,"th",13),e._uU(1," Contact Number "),e.qZA())}function Tt(t,n){if(1&t&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.contactNumber)}}function xt(t,n){1&t&&(e.TgZ(0,"th",13),e._uU(1," Action "),e.qZA())}function At(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"td",15)(1,"mat-slide-toggle",16),e.NdJ("change",function(r){const l=e.CHM(a).$implicit,A=e.oxw();return e.KtG(A.handelChangeAction(r.checked,l.id))}),e.qZA()()}if(2&t){const a=n.$implicit;e.xp6(1),e.Q6J("checked",a.status)}}function Mt(t,n){1&t&&e._UZ(0,"tr",17)}function St(t,n){1&t&&e._UZ(0,"tr",18)}const wt=[{path:"category",component:L,canActivate:[k.G],data:{expectedRole:["admin"]}},{path:"product",component:pe,canActivate:[k.G],data:{expectedRole:["admin"]}},{path:"order",component:Ie,canActivate:[k.G],data:{expectedRole:["admin","user"]}},{path:"bill",component:ft,canActivate:[k.G],data:{expectedRole:["admin","user"]}},{path:"user",component:(()=>{class t{ngxService;userService;snackbarService;displayedColumns=["name","email","contactNumber","status"];dataSource;responseMessage;constructor(a,o,r){this.ngxService=a,this.userService=o,this.snackbarService=r}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.userService.getUsers().subscribe({next:a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},error:a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responseMessage,m.t.error)}})}applyFilter=a=>{this.dataSource.filter=a.target.value.trim().toLowerCase()};handelChangeAction=(a,o)=>{this.ngxService.start();var r={status:a.toString(),id:o};this.userService.update(r).subscribe({next:c=>{this.ngxService.stop(),this.responseMessage=c?.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},error:c=>{this.ngxService.stop(),this.responseMessage=c.error?.message?c.error?.message:m.t.genericError,this.snackbarService.openSnackBar(this.responseMessage,m.t.error)}})};static \u0275fac=function(o){return new(o||t)(e.Y36(x.LA),e.Y36(_t.K),e.Y36(u.o))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-manage-user"]],decls:28,vars:4,consts:[["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z10",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["color","primary","matTooltip","Activate or Deactivate Product",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(e.TgZ(0,"mat-card")(1,"b")(2,"span"),e._uU(3,"Manage User"),e.qZA()()(),e._UZ(4,"hr"),e.TgZ(5,"mat-card")(6,"mat-form-field")(7,"mat-label"),e._uU(8,"Filter"),e.qZA(),e.TgZ(9,"input",0,1),e.NdJ("keyup",function(l){return r.applyFilter(l)}),e.qZA()()(),e._UZ(11,"hr"),e.TgZ(12,"div",2)(13,"table",3),e.ynx(14,4),e.YNc(15,Ct,2,0,"th",5),e.YNc(16,yt,2,1,"td",6),e.BQk(),e.ynx(17,7),e.YNc(18,Zt,2,0,"th",5),e.YNc(19,vt,2,1,"td",6),e.BQk(),e.ynx(20,8),e.YNc(21,bt,2,0,"th",5),e.YNc(22,Tt,2,1,"td",6),e.BQk(),e.ynx(23,9),e.YNc(24,xt,2,0,"th",5),e.YNc(25,At,2,1,"td",10),e.BQk(),e.YNc(26,Mt,1,0,"tr",11),e.YNc(27,St,1,0,"tr",12),e.qZA()()),2&o&&(e.xp6(13),e.Q6J("dataSource",r.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[y.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,h.KE,h.hX,b.Nt,E.Rr,U.gM],styles:["mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]})}return t})(),canActivate:[k.G],data:{expectedRole:["admin"]}}];let Ut=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[v.Bz.forChild(wt),v.Bz]})}return t})();var kt=d(4643),Ot=d(1447),Nt=d(6208);let Dt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[Z.ez,Ut,C.JF,s.u5,s.UX,Ot.o9,kt.HT,Nt.m]})}return t})()},217:function(N,O){var d,v;void 0!==(v="function"==typeof(d=function(){"use strict";function i(g,u,_){var p=new XMLHttpRequest;p.open("GET",g),p.responseType="blob",p.onload=function(){M(p.response,u,_)},p.onerror=function(){console.error("could not download file")},p.send()}function m(g){var u=new XMLHttpRequest;u.open("HEAD",g,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function e(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(u)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,C=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),M=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!C?function(g,u,_){var p=s.URL||s.webkitURL,h=document.createElement("a");h.download=u=u||g.name||"download",h.rel="noopener","string"==typeof g?(h.href=g,h.origin===location.origin?e(h):m(h.href)?i(g,u,_):e(h,h.target="_blank")):(h.href=p.createObjectURL(g),setTimeout(function(){p.revokeObjectURL(h.href)},4e4),setTimeout(function(){e(h)},0))}:"msSaveOrOpenBlob"in navigator?function(g,u,_){if(u=u||g.name||"download","string"!=typeof g)navigator.msSaveOrOpenBlob(function f(g,u){return typeof u>"u"?u={autoBom:!1}:"object"!=typeof u&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\ufeff",g],{type:g.type}):g}(g,_),u);else if(m(g))i(g,u,_);else{var p=document.createElement("a");p.href=g,p.target="_blank",setTimeout(function(){e(p)})}}:function(g,u,_,p){if((p=p||open("","_blank"))&&(p.document.title=p.document.body.innerText="downloading..."),"string"==typeof g)return i(g,u,_);var h="application/octet-stream"===g.type,b=/constructor/i.test(s.HTMLElement)||s.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||h&&b||C)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var y=S.result;y=T?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=y:location=y,p=null},S.readAsDataURL(g)}else{var q=s.URL||s.webkitURL,x=q.createObjectURL(g);p?p.location=x:location.href=x,p=null,setTimeout(function(){q.revokeObjectURL(x)},4e4)}});s.saveAs=M.saveAs=M,N.exports=M})?d.apply(O,[]):d)&&(N.exports=v)}}]);